{
  "kind": "build_request",
  "title": "Inventory management, customer records, and quote generation website",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Implement Internet Identity sign-in and require authentication to access inventory, customers, and quotes screens.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Create a wedsite for inventory management and costamer data handeling and payment quote"
        ]
      },
      "acceptanceCriteria": [
        "Unauthenticated users are prompted to sign in with Internet Identity before any app data is shown.",
        "After sign-in, the user can access the app without errors and can sign out to end the session."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Create backend data models and APIs to manage inventory items, including create/read/update/delete and stock level adjustments.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "Create a wedsite for inventory management and costamer data handeling and payment quote"
        ]
      },
      "acceptanceCriteria": [
        "Backend exposes methods to create, list, fetch by id, update, and delete inventory items.",
        "Each inventory item includes at least: id, name, SKU (string), unit price (number), stock quantity (integer), optional description.",
        "Stock quantity can be incremented/decremented via a dedicated method and persists across page refreshes."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Build an Inventory UI: list view with search/filter, item detail/edit form, and controls to adjust stock quantity.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "inventory management"
        ]
      },
      "acceptanceCriteria": [
        "Inventory list displays items with key fields (name, SKU, unit price, stock).",
        "User can create a new item, edit an existing item, and delete an item from the UI.",
        "User can adjust stock (add/remove) and see the updated stock reflected immediately after the operation completes.",
        "Search/filter can narrow the list by at least name or SKU."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Create backend data models and APIs to manage customer profiles, including create/read/update/delete and ability to list customers.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "costamer data handeling"
        ]
      },
      "acceptanceCriteria": [
        "Backend exposes methods to create, list, fetch by id, update, and delete customers.",
        "Each customer includes at least: id, full name, email (optional), phone (optional), billing address (optional), notes (optional).",
        "Customer data persists across page refreshes."
      ]
    },
    {
      "id": "REQ-5",
      "text": "Build a Customers UI: list view with search, customer detail/edit form, and delete flow.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "costamer data handeling"
        ]
      },
      "acceptanceCriteria": [
        "Customers list displays customers and supports searching by at least name or email/phone.",
        "User can create, edit, and delete customers from the UI.",
        "Selecting a customer shows an editable customer profile view."
      ]
    },
    {
      "id": "REQ-6",
      "text": "Implement quote generation: backend data model and APIs to create a quote for a customer with line items, calculate totals, and list/view quotes.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "payment quote"
        ]
      },
      "acceptanceCriteria": [
        "A quote is associated with a customer and contains: id, customerId, status (e.g., Draft/Sent/Accepted), createdAt, line items, subtotal, optional discount, optional tax, total.",
        "Line items support referencing an inventory item (by itemId) and include quantity and unit price snapshot at time of quoting.",
        "Backend computes subtotal/total deterministically from stored fields and returns totals to the frontend.",
        "Backend exposes methods to create a quote, add/update/remove line items, list quotes, and fetch quote by id."
      ]
    },
    {
      "id": "REQ-7",
      "text": "Build a Quotes UI: create-quote flow (select customer, add line items from inventory, set quantities/prices), quote list, and quote detail view with totals.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "payment quote"
        ]
      },
      "acceptanceCriteria": [
        "User can create a new quote by selecting a customer and adding one or more inventory items as line items.",
        "Quote UI shows calculated subtotal/tax/discount/total and updates when line items change.",
        "User can view a list of existing quotes and open a quote detail screen.",
        "Quote detail displays customer info, line items, and totals clearly."
      ]
    },
    {
      "id": "REQ-8",
      "text": "Add a coherent, distinct visual theme and layout for the whole app (navigation + pages) using Tailwind and existing UI components, and apply it consistently.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ]
      },
      "acceptanceCriteria": [
        "App has a consistent visual style (colors, typography, spacing) across Inventory, Customers, and Quotes pages.",
        "App includes a clear navigation structure to access Inventory, Customers, and Quotes.",
        "User-facing text is in English and uses consistent labeling (e.g., “Customers”, “Inventory”, “Quotes”)."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single Motoko actor; do not introduce additional backend services.",
    "Do not edit frontend files under frontend/src/components/ui or any other immutable paths; compose existing components instead.",
    "Do not use external databases or third-party authentication providers; only Internet Identity for auth."
  ],
  "nonGoals": [
    "Implementing actual payment processing/checkout (e.g., Stripe) beyond generating and managing quotes.",
    "Real-time updates via WebSockets or push notifications.",
    "Integrations with external CRMs, accounting software, or email/SMS sending."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}